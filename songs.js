var history = [ { source: 'upload',
    sourceid: 'cedba32f3c8b76fa10bda27fff36c186',
    created: 1361933574.55,
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '512d7506cf683a34243e2854',
    metadata: 
     { album: '2009-11-21 - U.S. Bank Arena - Cincinnati, OH',
       genre: 'Rock',
       length: 819,
       artist: '| Phish | - | 2009-11-21 |',
       song: 'Split Open and Melt' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '701aa9ae6ceebd50e374ce06037e0409',
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4f471c28c7d26c4adc004b50',
    metadata: 
     { album: '1991/10/13 (Olympia, WA - North Shore Surf Club)',
       genre: 'Jam Rock',
       length: 766,
       artist: '| Phish | - | 10/13/1991 |',
       song: 'Reba' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '5843ab4b36754b2591b0846108136040',
    created: 1362962883.06,
    source: 'upload',
    score: 1,
    djname: 'Sleeping Monkey',
    _id: '513d29c3cf683a4c9ec14566',
    metadata: 
     { album: '1996-07-03 - Stadio Briamasco - Trento, Italy',
       genre: '',
       length: 1204,
       song: 'Taste> Llama ',
       artist: '1996-07-03 - Stadio Briamasco - Trento, Italy' } },
  { source: 'upload',
    sourceid: 'f454f9dbe83aba0b1e65b794cb9e75e3',
    created: 1348098593.92,
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '505a5a21cf683a461c003450',
    metadata: 
     { album: '2010/06/29 I Canandaigua, NY',
       genre: 'Rock',
       length: 441,
       artist: '2010/06/29 I Canandaigua, NY',
       song: 'The Connection' } },
  { source: 'upload',
    sourceid: 'c6f8eb6962fc1d71517a5f4d2e83e900',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4eeff4c899968e2c7b00a80b',
    metadata: 
     { album: '1.9 - 1995-07-03 - Summer Stage at Sugarbush - North Fayston, VT',
       genre: 'Rock',
       length: 172,
       artist: '1.9 - 1995-07-03 - Summer Stage at Sugarbush - North Fayston, VT',
       song: 'Strange Design' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '2786c7a87b04ebe628a5547686746fc9',
    created: 1363774382.3,
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '51498baecf683a7065fe71ee',
    metadata: 
     { album: '1995-07-03 - Summer Stage at Sugarbush - North Fayston, VT',
       genre: 'rock',
       length: 171,
       song: 'Strange Design',
       artist: '1995-07-03 - Summer Stage at Sugarbush - North Fayston, VT' } },
  { source: 'upload',
    sourceid: 'c6f8eb6962fc1d71517a5f4d2e83e900',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4eeff4c899968e2c7b00a80b',
    metadata: 
     { album: '1.9 - 1995-07-03 - Summer Stage at Sugarbush - North Fayston, VT',
       genre: 'Rock',
       length: 172,
       artist: '1.9 - 1995-07-03 - Summer Stage at Sugarbush - North Fayston, VT',
       song: 'Strange Design' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: 'a212539c0213615290c4b53b07f89e6b',
    created: 1345031362.22,
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '502b8cc2cf683a19f8000e3e',
    metadata: 
     { album: '1994-04-28 SunFest, West Palm Beach FL',
       genre: 'Jam',
       length: 642,
       song: 'Run Like an Antelope',
       artist: 'Phish 4.28.94 Sunfest West Palm Beach, FL' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: 'cad4be128af3f9de92f6b1d530207de3',
    created: 1363067305.51,
    source: 'upload',
    score: 0.75,
    djname: 'Sleeping Monkey',
    _id: '513ec1a9cf683a4ca46c3219',
    metadata: 
     { album: '12.01.03 | Pepsi Arena - Albany, NY',
       genre: 'Rock',
       length: 282,
       song: 'Long Cool Woman In A Black Dress',
       artist: '12.01.03 | Pepsi Arena - Albany, NY' } },
  { source: 'upload',
    sourceid: '72691204c08af521a7f29946075ab95b',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.75,
    djname: 'Sleeping Monkey',
    _id: '4f4a8f66c7d26c4ad300574c',
    metadata: 
     { album: '',
       genre: 'Rock',
       length: 238,
       song: 'Long Cool Woman in a Black Dress',
       artist: '1998.10.30 - Thomas & Mack Center - Las Vegas, NV' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '1c37dff5686c07724eb4d119f8515b42',
    created: 1348006331.56,
    source: 'upload',
    score: 0.75,
    djname: 'Sleeping Monkey',
    _id: '5058f1bbcf683a462c002c20',
    metadata: 
     { album: 'Live Phish: 03/18/97 - Flynn Theater, Burlington, VT',
       genre: 'Rock',
       length: 277,
       song: 'I Told You So 3.18.97',
       artist: 'Phish w/ Tammy Fletcher' } },
  { source: 'upload',
    sourceid: '24f88b7210f735db998c06f78114cc59',
    djid: '5011febeaaa5cd67160005a2',
    score: 1,
    djname: 'Sleeping Monkey',
    _id: '4f3ef9cbc7d26c4ad3002d3f',
    metadata: 
     { album: '',
       genre: 'Rock',
       length: 407,
       song: 'I Been to Georgia on a Fast Train (Ft. Dick Solberg on violin; Jeff Walton on acoustic guitar)',
       artist: '1993.05.06 - Palace Theatre - Albany, NY' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: 'f47e1597d567403ae1a2ccfd6cf9a091',
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4f3fc786c7d26c4af0002fb9',
    metadata: 
     { album: '1995-10-25 - Civic Center Arena - St. Paul, MN',
       genre: 'Rock',
       length: 1257,
       artist: 'Phish 1995-10-25 - Civic Center Arena - St. Paul, MN',
       song: 'Mike\'s Song > Breathe Jam >' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: 'def10cdfdb38dd99956f7e0df2d3d45d',
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4f80f160c7d26c795b0011bb',
    metadata: 
     { album: '',
       genre: 'Rock',
       length: 1304,
       artist: '1997.11.13 --Thomas & Mack Center-- Las Vegas, NV [YEM]',
       song: 'Stash' } },
  { source: 'upload',
    sourceid: '146edb79e2f9005574955f052a5e92eb',
    created: 1362381726.07,
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '51344b9ecf683a4ca46ba121',
    metadata: 
     { album: '11.13.97 | Thomas & Mack Center - Las Vegas, NV',
       genre: 'Rock',
       length: 904,
       artist: '11.13.97 | Thomas & Mack Center - Las Vegas, NV',
       song: 'Mike\'s Song >' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '716fc4e4fd5d2c201715b32f649a6656',
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '5003c5dacf683a1625001a89',
    metadata: 
     { album: '2003/07/22 Deer Creek, Noblesville, IN',
       genre: 'Rock',
       length: 1097,
       song: 'Gumbo',
       artist: '2003/07/22 Deer Creek, Noblesville, IN' } },
  { source: 'upload',
    sourceid: '721d9faa67982b7f80d1ad5beeae3316',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4fafff36cf683a78ef000e2d',
    metadata: 
     { album: '2003-07-22 - Verizon Wireless Music Center - Noblesville, IN',
       genre: 'Rock',
       length: 524,
       song: 'Carini >',
       artist: '2003-07-22 - Verizon Wireless Music Center - Noblesville, IN' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '858069d63903e82471e06d75540b3704',
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4e9a560d99968e1ea9001480',
    metadata: 
     { album: '',
       genre: '',
       length: 616,
       song: 'Mike\'s Song -> Simple -> O Mio Babbino Caro',
       artist: '1994-05-27 Warfield Theatre, San Francisco CA' } },
  { source: 'upload',
    sourceid: '8a324925ed2c5b84672b888ad42e5796',
    created: 1352964550.29,
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '50a499c6cf683a6eda957d3c',
    metadata: 
     { album: 'Sports Arena, 12/04/96 - San Diego, CA',
       genre: 'Rock',
       length: 206,
       artist: 'Sports Arena, 12/04/96 - San Diego, CA',
       song: 'Life on Mars?' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '7bcf4a3d3dd0306da7006b8c2e2697f1',
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4f4acc80c7d26c4aed005902',
    metadata: 
     { album: '2011/06/07 I Mansfield, MA',
       genre: 'Rock',
       length: 365,
       artist: '6/7/11 Great Woods',
       song: 'Stealing Time From The Faulty Plan' } },
  { source: 'upload',
    sourceid: '049f77f24b044b94d2c0ab3236e4055d',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4fa9078dcf683a790f0001f2',
    metadata: 
     { album: '1990-01-26',
       genre: 'Other',
       length: 255,
       song: 'Communication Breadown (debut)',
       artist: 'Phish/1-26-90 Tree Cafe, Portland, Oregon' } },
  { source: 'upload',
    sourceid: '654681c214fbe56f9e2aee0f2eead3c0',
    created: 1351131002.14,
    djid: '5011febeaaa5cd67160005a2',
    score: 1,
    djname: 'Sleeping Monkey',
    _id: '50889f7acf683a72880023a4',
    metadata: 
     { album: '',
       genre: 'Jam Rock',
       length: 1622,
       artist: '2003/07/29 Burgettstown, PA - Post Gazette Pavilion',
       song: 'Crosseyed and Painless' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: 'd984c4b2e5a52ae2913063fbb9e743b3',
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4f89747fc7d26c4fcd000c99',
    metadata: 
     { album: '1991-10-27 Elk Ballroom, Telluride CO (AUD)',
       genre: 'Phish',
       length: 500,
       artist: 'Phish 1991-10-27',
       song: 'The Landlady > Destiny Unbound' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '4c64ae8bf100539a5364a7dfd6f9a8a0',
    created: 1350664032.13,
    source: 'upload',
    score: 1,
    djname: 'Sleeping Monkey',
    _id: '50817f60cf683a7f2e008bb8',
    metadata: 
     { album: 'Live Phish, Vol. 13: 10/31/94, Glens Falls Civic Center, Glens Falls, New York [Disc 3]',
       genre: 'Live Phish',
       length: 615,
       song: 'Cry Baby Cry -> Revolution 9',
       artist: '33 Phish 10/31/94, Glens Falls Civic Center, Glens Falls, New York :B:' } },
  { source: 'upload',
    sourceid: '941a98a12b08b6719988e6e1c3472480',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4fa4905dcf683a4bc900172b',
    metadata: 
     { album: '2010/12/30 I New York, NY',
       genre: 'Rock',
       length: 1129,
       song: 'Tweezer',
       artist: 'twelve thirty ten' } },
  { source: 'upload',
    sourceid: '35e9bed7213bb7978c26a2e31dad00ac',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.75,
    djname: 'Sleeping Monkey',
    _id: '4ecdeb0399968e3cba0051d0',
    metadata: 
     { album: '1989-10-26 The Wetlands Preserve, New York NY (SBD)',
       song: 'Gaul Swerves and the Rest is Everything Else',
       artist: 'Phish 1989-10-26',
       length: 218,
       genre: 'Jam',
       bitrate: 160 } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: 'a5ee9071c5f3a8913cdb0a19a673621a',
    created: 1344800348.38,
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '5028065ccf683a7ac0001019',
    metadata: 
     { album: '1998-10-18 - Shoreline Amphitheatre - Mountain View, CA',
       genre: 'Rock',
       length: 258,
       song: 'Sad Lisa w/ Sarah McLachlan',
       artist: '10/18/98' } },
  { source: 'upload',
    sourceid: 'b1bd2170bc710a23a581dfabab46ad0e',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.75,
    djname: 'Sleeping Monkey',
    _id: '4f7b5235c7d26c4d2d008d15',
    metadata: 
     { album: '1998.10.31 - Las Vegas II',
       genre: 'Rock',
       length: 411,
       song: 'Train Round the Bend',
       artist: '1998.10.31 - Las Vegas II' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '8ebcba8956531416e75d460ffe84ca07',
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4fbf6bf2cf683a1ecb000372',
    metadata: 
     { album: '1.8 - 1996-08-07 - Red Rocks Amphitheatre - Morrison, CO',
       genre: 'Phish',
       length: 248,
       artist: '1.8 - 1996-08-07 - Red Rocks Amphitheatre - Morrison, CO',
       song: 'Ninety-Nine Years (and One Dark Day)' } },
  { source: 'upload',
    sourceid: 'c148b7f95b2508bd6ba82e17ae23c388',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.75,
    djname: 'Sleeping Monkey',
    _id: '4f4c5beec7d26c4af6005f8c',
    metadata: 
     { album: '1991-08-03 Larrabee Farm, a.k.a. Amy\'s Farm, Auburn. ME (Dude of Life)',
       genre: 'Jam Rock',
       length: 267,
       song: 'Bitchin\' Again',
       artist: '1991-08-03 Larrabee Farm, a.k.a. Amy\'s Farm, Auburn. ME (Dude of Life)' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '5a1c30f3c8fe702a57d001ea96956b29',
    created: 1363063450.37,
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '513eb29acf683a4c9b27728b',
    metadata: 
     { album: '2010/10/11 Broomfield, CO',
       genre: 'Rock',
       length: 361,
       song: 'What Things Seem',
       artist: '2010/10/11 Broomfield, CO' } },
  { source: 'upload',
    sourceid: '701dbeef550f984b4327c19f0ba26283',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4f71adefc7d26c4d350063cc',
    metadata: 
     { album: '1992-07-24 Jones Beach Amphith',
       genre: 'Other',
       length: 452,
       song: 'The Squirming Coil',
       artist: '1992-07-24 Jones Beach Amphitheater, Wantagh NY' } },
  { source: 'upload',
    sourceid: '0b9c4e96932c0b4e8e45918a1b26ff2b',
    created: 1359219154.34,
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '510409d2cf683a28d8234557',
    metadata: 
     { album: 'LP 14',
       genre: 'Rock',
       length: 588,
       artist: '1995/10/31 Rosemont, IL',
       song: '5:15 > Sea and Sand' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '6b37818b2d37f5e66e5d7b450e1fb9e9',
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '5017e611cf683a1f700019f5',
    metadata: 
     { album: '1992-12-01 Granville, OH',
       genre: 'Rock',
       length: 1239,
       song: 'Dinner and a Movie > David Bowie -> Baby Elephant Walk -> David Bowie',
       artist: '1992-12-01 Granville, OH' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: 'c52528b6ca0cdab919b48f786d5e54a3',
    created: 1350255259.73,
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '507b429bcf683a7f2e004e39',
    metadata: 
     { album: 'Machine Gun',
       genre: 'Rock',
       length: 218,
       song: '3 [1993.12.31] DWD Jam',
       artist: 'Phish - Machine Gun Compilation I' } },
  { source: 'upload',
    sourceid: 'ca1ce0df9e3d40eeefd8242e1a6afac7',
    djid: '5011febeaaa5cd67160005a2',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4f727577c7d26c4d16006799',
    metadata: 
     { album: '12/31/93',
       genre: 'Jam Rock',
       length: 801,
       song: '3.08 - Harry Hood',
       artist: '12/31/93' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: '2e861b9e528429a2d23a3c7a964849cf',
    source: 'upload',
    score: 0.5,
    djname: 'Sleeping Monkey',
    _id: '4f101f19c7d26c2950002783',
    metadata: 
     { album: 'E.2 - 1993-12-31 - Worcester Centrum Centre - Worcester, MA',
       genre: 'Rock',
       length: 151,
       artist: 'E.2 - 1993-12-31 - Worcester Centrum Centre - Worcester, MA',
       song: 'Amazing Grace' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: 'c26dc3ad4f62bfbdd6799437f587fb53',
    created: 1359846930.69,
    source: 'upload',
    score: 0.75,
    djname: 'Sleeping Monkey',
    _id: '510d9e12cf683a2f9adff3fd',
    metadata: 
     { album: '',
       genre: '',
       length: 1110,
       song: 'Possum>Steam(debut)',
       artist: '2011-06-04 Blossom Music Center' } },
  { source: 'upload',
    sourceid: '920ddef9f915cd92655207f435dc6df9',
    created: 1356041293.02,
    djid: '5011febeaaa5cd67160005a2',
    score: 0.75,
    djname: 'Sleeping Monkey',
    _id: '50d38c4dcf683a1ae63582b2',
    metadata: 
     { album: '6 - Faux The Archives (Volume 3)',
       genre: 'Rock',
       length: 529,
       artist: '6 - Faux The Archives (Volume 3)',
       song: 'Wilson -> Jam (1996-08-14)' } },
  { djid: '5011febeaaa5cd67160005a2',
    sourceid: 'a878073a00ac64286f0629ab8f3cc2af',
    source: 'upload',
    djname: 'Sleeping Monkey',
    _id: '4ef0b98e99968e2c7b00abca',
    metadata: 
     { album: '1997-11-23 Winston-Salem - Phish',
       genre: 'Rock',
       length: 655,
       song: '1997-11-23 Winston-Salem - Phish',
       artist: 'Black-Eyed Katy' } } ];
       
function songLog(callback) {
	this.history = [];
	this.addSong = function addSong(created, artist, album) {
		this.history.push({'created':created, 'album':album, 'artist':artist});
	}
	this.prune = function prune(cutoff) {
		for(i=0;i<this.history.length;i++) {
			if(this.history[i].created < cutoff) {
				this.history.splice(i,1);
			}
		}
	}
	this.getCount = function getCount(field,value) {
		var count = 0;
		for(i=0;i<this.history.length;i++) {
			count += (this.history[i][field]) == value ? 1 : 0;
		}
		return count;
	}
	this.getList = function getList(field) {
		var o = [];
		for(i=0;i<this.history.length;i++) {
			o.push(this.history[i][field]);
		}
		return o.join();;
	}
}